<div class="rounded-2xl border border-slate-200/70 bg-white/80 backdrop-blur shadow-sm overflow-hidden p-6">
  <h2 class="text-base font-semibold">Report</h2>
  <p class="text-xs text-slate-600 mt-1">Trigger backend calculation to generate a CSV report.</p>
  <div class="mt-4">
    <button type="button" (click)="generate()" [disabled]="generating()" class="inline-flex items-center gap-2 rounded-xl bg-primary-600 text-white px-4 py-2.5 text-sm font-semibold shadow-sm hover:bg-primary-700 disabled:opacity-60 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-400">
      @if (generating()) { <svg class="animate-spin h-4 w-4" viewBox="0 0 50 50"><circle class="opacity-25" cx="25" cy="25" r="20" stroke="currentColor" stroke-width="5" fill="none"/><circle class="opacity-75" cx="25" cy="25" r="20" stroke="currentColor" stroke-width="5" fill="none" stroke-dasharray="100" stroke-dashoffset="75"/></svg> } Generate CSV
    </button>
  </div>
  @if (message()) { <div class="mt-4" [class]="type() === 'success' ? 'text-green-700' : 'text-red-700'">{{ message() }}</div> }
</div>
